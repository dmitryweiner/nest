(this.webpackJsonpnest=this.webpackJsonpnest||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){},22:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),i=c(8),s=c.n(i),j=(c(17),c(7)),l=c(3),d=c(2),o=(c(18),c(11)),h=c(9);function b(e){var t=e.replace(",",".");return Number.parseFloat(t)}function u(e,t){var c=e.split(/\s/),n={id:Object(o.a)(),title:"",x:0,y:0,date:null,distances:[],deltaDistances:[],neighborsCount:0,r:0,isAccepted:!1};switch(t){case 1:n.x=b(c[0]),n.y=b(c[1]);break;case 2:n.title=c[0],n.x=b(c[1]),n.y=b(c[2]);break;case 3:n.title=c[0],n.date=c[1],n.x=b(c[2]),n.y=b(c[3])}return n}function O(e,t){var c,n=[],a=Object(d.a)(t);try{for(a.s();!(c=a.n()).done;){var r=c.value;if(r.id!==e.id){var i=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))/2;n.push(i)}}}catch(s){a.e(s)}finally{a.f()}return n.sort((function(e,t){return e-t})),n}function x(e){for(var t=[],c=0;c<e.length-1;c++)t.push(e[c+1]-e[c]);var n=Math.max.apply(Math,t);return t.map((function(e){return e/n}))}function f(e,t,c){var n,a=0,r=Object(d.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,s=0;if(i.id!==e.id){for(var j=0;j<c;j++)s+=i.distances[j];a+=s/=c}}}catch(l){r.e(l)}finally{r.f()}return(a/=t.length-1)>=e.distances[0]}function p(e){var t,c=0,n=0,a=0;t=e.deltaDistances.length>6?5:e.deltaDistances.length-1;for(var r=1;r<=t;r++)e.deltaDistances[r]>c&&(c=e.deltaDistances[r],n=r);for(var i=0;i<=n;i++)a+=e.distances[i];return{r:a/=n+1,neighborsCount:n+1}}function v(e){var t,c="Number\tR\tNeib\n",n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;c+="".concat(a.title?a.title:a.id,"\t"),a.isAccepted?c+="".concat(a.r,"\t").concat(a.neighborsCount):c+="NAN\t0",c+="\n"}}catch(r){n.e(r)}finally{n.f()}return c}var y=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(a.useState)([]),s=Object(l.a)(i,2),o=s[0],b=s[1],y=Object(a.useState)(2),g=Object(l.a)(y,2),m=g[0],k=g[1],C=Object(a.useState)(!1),w=Object(l.a)(C,2),N=w[0],S=w[1],A=Object(a.useState)(3),D=Object(l.a)(A,2),M=D[0],F=D[1],X=Object(a.useState)([]),Y=Object(l.a)(X,2),E=Y[0],J=Y[1];return Object(a.useEffect)((function(){b(function(e,t,c){var n,a=[],r=e.split(/[\r\n]+/),i=!0,s=Object(d.a)(r);try{for(s.s();!(n=s.n()).done;){var j=n.value;c&&i?i=!1:""!==j&&a.push(u(j,t))}}catch(l){s.e(l)}finally{s.f()}return a}(c,m,N))}),[c,m,N]),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("h1",{children:"Nest"}),Object(n.jsx)("h4",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445:"}),Object(n.jsx)("div",{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"radio",name:"inputFormat",checked:1===m,onChange:function(e){return e.target.checked&&k(1)}}),"X Y"]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"radio",name:"inputFormat",checked:2===m,onChange:function(e){return e.target.checked&&k(2)}}),"<\u041c\u0435\u0442\u043a\u0430 \u0433\u043d\u0435\u0437\u0434\u0430> X Y"]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"radio",name:"inputFormat",checked:3===m,onChange:function(e){return e.target.checked&&k(3)}}),"<\u041c\u0435\u0442\u043a\u0430 \u0433\u043d\u0435\u0437\u0434\u0430> <\u0414\u0430\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f> X Y"]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",checked:N,onChange:function(e){return S(e.target.checked)}}),"\u0421 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c"]})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u044e\u0434\u0430 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u0433\u043d\u0451\u0437\u0434:"}),Object(n.jsx)("textarea",{rows:5,className:"textarea-with-data",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(n.jsx)("div",{children:Object(n.jsxs)("label",{children:["\u0411\u0440\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0445",Object(n.jsxs)("select",{value:M,onChange:function(e){return F(e.target.value)},children:[Object(n.jsx)("option",{children:"1"}),Object(n.jsx)("option",{children:"2"}),Object(n.jsx)("option",{children:"3"}),Object(n.jsx)("option",{children:"4"}),Object(n.jsx)("option",{children:"5"}),Object(n.jsx)("option",{children:"6"}),Object(n.jsx)("option",{children:"7"})]})]})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"\u0413\u043d\u0451\u0437\u0434\u0430:"}),Object(n.jsx)("ul",{className:"nest-list",children:o.map((function(e){return Object(n.jsxs)("li",{children:[Object(n.jsx)("b",{children:e.title?e.title:e.id}),"\xa0",e.date&&e.date,"\xa0",e.x," ",e.y]})}))}),Object(n.jsx)(h.a,{width:"600px",height:"400px",chartType:"ScatterChart",loader:Object(n.jsx)("div",{children:"Loading Chart"}),data:[["x","y"]].concat(Object(j.a)(o.map((function(e){return[e.x,e.y]})))),options:{legend:"none"}})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){return function(){var e,t=Object(d.a)(o);try{for(t.s();!(e=t.n()).done;){var c=e.value,n=O(c,o),a=x(n);c.distances=n,c.deltaDistances=a}}catch(u){t.e(u)}finally{t.f()}var r,i=Object(d.a)(o);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s.isAccepted=f(s,o,M),s.isAccepted){var l=p(s),h=l.r,b=l.neighborsCount;s.r=h,s.neighborsCount=b}}}catch(u){i.e(u)}finally{i.f()}J(Object(j.a)(o))}()},children:"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c!"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),Object(n.jsxs)("p",{children:["\u041c\u043e\u0436\u043d\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043b\u0438 ",Object(n.jsx)("a",{children:"\u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0432 \u0432\u0438\u0434\u0435 \u0444\u0430\u0439\u043b\u0430"})]}),Object(n.jsx)("textarea",{className:"textarea-with-data",rows:5,value:v(E)})]})]})})};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.4d6244ff.chunk.js.map